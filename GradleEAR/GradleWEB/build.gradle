plugins {
	id 'war'
  	id 'org.sonarqube' version '2.7'
  	id 'jacoco'
}

sourceCompatibility = '1.8'

repositories {
	mavenCentral()
	jcenter();
}

dependencies{
	providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
	testImplementation 'junit:junit:4.12'
	testCompile 'org.mockito:mockito-core:2.7.19'
}


sonarqube {
    properties {
    	property 'sonar.host.url', 'http://localhost:9000'
        property "sonar.projectKey", "GradleEAR"
        property 'sonar.sources','src/main'
		property 'sonar.language','java'
    }
}

tasks['sonarqube'].dependsOn test
